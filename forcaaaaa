#include <iostream>
#include <string>
#include <map>
#include <vector>
#include <fstream>
using namespace std;

const string PALAVRA = "MELANCIA";
map<char, bool> chutou;
vector<char> chuteserrados;

bool letraexiste(char chute){
        for (char letra : PALAVRA){
        if(chute == letra){ 
               return true;
        }
    }
     return false;
}

bool errou(){
    for(char letra : PALAVRA){
        if(!chutou [letra]){
            return true;
        }
    }
    return false;
}
bool acertou(){
    return chuteserrados.size() < 5;
}
void imprieme_cabecalho(){
    cout << "**********************"<< endl;
    cout << "***bem vindo a Forca***"<< endl;
    cout << "***********************"<< endl;
    cout << endl;
}
void imprime_erros(){
          cout << "Chutes errados: " ;
        for(char letra : chuteserrados){
            cout << letra << " ";
        }
cout << endl;
}

void imprime_palavra(){
     for(char letra : PALAVRA){
            if (chutou [letra]){
                cout << letra << " ";
            }
            else{
                cout << "_ ";
            }
        }
        cout << endl;
}

void chuta(){
      cout<< "Seu Chute:";
        char chute;
        cin >> chute;

        chutou [chute] = true;

        if (letraexiste(chute)){
            cout <<" Voce acertou! Seu chute esta na PALAVRA. "<< endl;
        }
        else{
            cout << "Voce errou! Seu chute nao esta na PALAVRA. " << endl;
            chuteserrados.push_back(chute);
        }
        cout << endl;
}

void le_arquivo(){
    ifstream arquivo;
    arquivo.open("palavras.txt");

    int quantidade_palavras;
    arquivo >> quantidade_palavras;

        cout << "O arquivo possui " << quantidade_palavras << "palavras." << endl;

        for (int i=0;i<quantidade_palavras;i++){
            string palavra_lida;
            arquivo >> palavra_lida;
            cout << "Na linha " << i << " : " << palavra_lida << endl;
        }

}
  
int main(){             

    imprieme_cabecalho();
    le_arquivo();

        while(errou() && acertou()){

        imprime_erros(); 

        imprime_palavra();

        chuta();

   }

   cout <<"Fim de jogo" << endl;
   if(errou()){
    cout << "Voce perdeu! tente novamente" << endl;
   }
   else{ 
    cout<<"VOCE GANHOOOU! Parabens."<< endl;
   }
   }
